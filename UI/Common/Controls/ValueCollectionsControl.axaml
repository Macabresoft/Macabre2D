<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Macabresoft.Macabre2D.UI.Common"
             xmlns:avaloniaEx="clr-namespace:Macabresoft.AvaloniaEx;assembly=Macabresoft.AvaloniaEx"
             x:Class="Macabresoft.Macabre2D.UI.Common.ValueCollectionsControl">
    <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                  VerticalScrollBarVisibility="Auto">
        <Grid DataContext="{Binding $parent[local:ValueCollectionsControl]}">
            <Design.DataContext>
                <local:ValueCollectionsControl />
            </Design.DataContext>
            <ItemsControl Items="{Binding Collections}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <avaloniaEx:GroupBox Header="{Binding Name}"
                                             Margin="{StaticResource StandardMarginBottom}">
                            <ItemsControl Items="{Binding ValueControls}" />
                        </avaloniaEx:GroupBox>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <ProgressBar IsIndeterminate="True"
                         IsVisible="{Binding IsBusy}" />
        </Grid>
    </ScrollViewer>
</UserControl>